<!DOCTYPE html>
<html>
<head>
<title>Web Audio Demo</title>
<script type="text/javascript" src="ampule.js"></script>
</head>
<body>
<script type="text/javascript">
var mel = [
	{
		note: [22, 24, 26],
		duration: 5,
		shape: 2
	},
	{
		note: 19,
		duration: 1,
		shape: 2,
	},
	{
		note: 22,
		duration: 2,
		shape: 2
	},
	{
		note: 19,
		duration: 1,
		shape: 2,
	},
	{
		note: 23,
		duration: 2,
		shape: 2
	},
	{
		note: 22,
		duration: 1,
		shape: 2
	},
	{
		note: 21,
		duration: 2,
		shape: 2
	},
	{
		note: 21,
		duration: 1,
		shape: 2
	},
	{
		note: 22,
		duration: 2,
		shape: 2
	},
	{
		note: 16,
		duration: 1,
		shape: 2
	},
	{
		note: 15,
		duration: 2,
		shape: 2
	},
	{
		note: 21,
		duration: 1,
		shape: 2
	},
	{
		note: 20,
		duration: 2,
		shape: 2
	},
];
totalDuration = 0;

//Preprocess melody
var bps = 1;
for (var i in mel) {
	var note = mel[i];
	note.duration = note.duration/(4*bps) * 1000;
	totalDuration += note.duration;
}

var amp = ampule(mel, totalDuration);
amp();
</script>
</body>
</html>
